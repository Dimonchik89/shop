(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{36:function(t,e,c){},37:function(t,e,c){},38:function(t,e,c){},40:function(t,e,c){},42:function(t,e,c){},43:function(t,e,c){},44:function(t,e,c){},45:function(t,e,c){},46:function(t,e,c){},47:function(t,e,c){},48:function(t,e,c){},50:function(t,e,c){},51:function(t,e,c){"use strict";c.r(e);var n=c(0),a=c.n(n),s=c(16),i=c.n(s),r=c(52),j=c(53),o=c(54),u=c(4),l=c(15),b=(c(36),c(37),c(38),c.p+"static/media/cart.5799dfd9.svg"),m=c.p+"static/media/logo.abc65a7d.png",O=c(1),d=function(){var t=Object(u.c)((function(t){return t.cart}));return Object(O.jsx)("header",{children:Object(O.jsx)(r.a,{children:Object(O.jsx)(j.a,{children:Object(O.jsxs)(o.a,{className:"d-flex ms-auto justify-content-center position-relative",children:[Object(O.jsx)(l.b,{to:"/",children:Object(O.jsx)("img",{className:"logo",src:m,alt:""})}),Object(O.jsx)("div",{className:"header-btn_wrapper",children:Object(O.jsxs)(l.b,{className:"header__btn",to:"/cart",children:[Object(O.jsx)("img",{className:"icon__cart",src:b,alt:"cart"}),0==t.length?null:Object(O.jsx)("p",{className:"header__num",children:t.length})]})})]})})})})},h=c(2),f=c(17),x=function(t){return{type:"ADD_CART_GOODS",payload:t}},p=(c(40),function(t){var e=t.goodsItem,c=e.name,n=e.cost,a=e.img,s=Object(u.c)((function(t){return t.cart})),i=Object(u.b)(),r=Object(f.a)(s);return Object(O.jsx)(o.a,{children:Object(O.jsxs)("div",{className:"goods-item",children:[Object(O.jsx)("img",{src:a,alt:c}),Object(O.jsx)("h3",{children:c}),Object(O.jsxs)("div",{children:["\u0426\u0435\u043d\u0430: ",n,"$"]}),Object(O.jsx)("button",{className:"btn btn-primary",onClick:function(){!function(t){var e=t.id;if(r.length){var c=!1;r.map((function(t,n){if(t.id==e){c=!0;var a=t;3==e?(t.quantity+1)%3?r.splice(n,1,Object(h.a)(Object(h.a)({},a),{},{quantity:a.quantity+1,summa:a.summa+a.cost})):r.splice(n,1,Object(h.a)(Object(h.a)({},a),{},{quantity:a.quantity+1,summa:a.summa+a.cost/2})):r.splice(n,1,Object(h.a)(Object(h.a)({},a),{},{quantity:a.quantity+1,summa:a.summa+a.cost}))}})),c||r.push(Object(h.a)(Object(h.a)({},t),{},{quantity:1,summa:t.cost}))}else r.push(Object(h.a)(Object(h.a)({},t),{},{quantity:1,summa:t.cost}))}(e),i(x(r))},children:"\u041a\u0443\u043f\u0438\u0442\u044c"})]})})}),v=c(20),g=c.n(v),y=c(23),w=function(){var t=Object(n.useCallback)(function(){var t=Object(y.a)(g.a.mark((function t(e){var c,n,a,s,i,r=arguments;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=r.length>1&&void 0!==r[1]?r[1]:"GET",n=r.length>2&&void 0!==r[2]?r[2]:null,a=r.length>3&&void 0!==r[3]?r[3]:{"Content-Type":"application/json"},t.prev=3,t.next=6,fetch(e,{method:c,body:n,headers:a});case 6:if((s=t.sent).ok){t.next=9;break}throw new Error("Error fetch ".concat(e));case 9:return t.next=11,s.json();case 11:return i=t.sent,t.abrupt("return",i);case 15:throw t.prev=15,t.t0=t.catch(3),t.t0;case 18:case"end":return t.stop()}}),t,null,[[3,15]])})));return function(e){return t.apply(this,arguments)}}(),[]);return t},N=(c(42),function(){return Object(O.jsx)(o.a,{className:"d-flex justify-content-center",children:Object(O.jsxs)("div",{className:"lds-roller",children:[Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{})]})})}),q=c(55),_=(c(43),function(){w();var t=Object(u.c)((function(t){return t})),e=t.goods,c=t.loading,a=Object(u.b)(),s=[{id:1,name:"\u0411\u0430\u043d\u0430\u043d",cost:10,img:"https://www.svgrepo.com/show/227289/banana.svg"},{id:2,name:"\u042f\u0431\u043b\u043e\u043a\u043e",cost:8,img:"https://www.svgrepo.com/show/41925/apple.svg"},{id:3,name:"\u041f\u0430\u043f\u0430\u0439\u044f",cost:10,img:"https://www.svgrepo.com/show/286047/papaya.svg"}];Object(n.useEffect)((function(){a(function(t){return{type:"GET_ALL_GOODS",payload:t}}(s))}),[]);return Object(O.jsx)("section",{className:"goods__wrapper",children:Object(O.jsx)(r.a,{children:Object(O.jsx)(j.a,{className:"d-flex justify-content-between",children:1==c?Object(O.jsx)(N,{}):"error"==c?Object(O.jsx)("h2",{children:"Error"}):e.map((function(t){return Object(O.jsx)(p,{goodsItem:t},Object(q.a)())}))})})})}),k=(c(44),c(45),c.p,function(t){var e=t.item,c=Object(u.c)((function(t){return t.cart})),n=Object(u.b)(),a=e.id,s=e.name,i=e.img,l=e.quantity,b=e.summa,m=Object(f.a)(c);return Object(O.jsx)("div",{className:"cart-item",children:Object(O.jsx)(r.a,{children:Object(O.jsx)(j.a,{children:Object(O.jsx)(o.a,{className:"col-12 col-md-6 m-auto",children:Object(O.jsxs)("div",{className:"cart-item__block position-relative",children:[Object(O.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(O.jsx)("img",{className:"cart-item__image",src:i,alt:s}),Object(O.jsx)("span",{children:s}),Object(O.jsxs)("span",{children:["\u041a \u043e\u043f\u043b\u0430\u0442\u0430: ",b,"$"]}),Object(O.jsx)("button",{className:"btn btn-primary",onClick:function(){!function(t){m.map((function(e,c){if(e.id==t){if(!(e.quantity>1))return m.splice(c,1);var n=e;3==t?e.quantity%3?m.splice(c,1,Object(h.a)(Object(h.a)({},n),{},{quantity:n.quantity-1,summa:n.summa-n.cost})):m.splice(c,1,Object(h.a)(Object(h.a)({},n),{},{quantity:n.quantity-1,summa:n.summa-n.cost/2})):m.splice(c,1,Object(h.a)(Object(h.a)({},n),{},{quantity:n.quantity-1,summa:n.summa-n.cost}))}}))}(a),n(x(m))},children:"-"}),Object(O.jsxs)("span",{children:["\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e: ",l,"\u043a\u0433"]}),Object(O.jsx)("button",{className:"btn btn-primary",onClick:function(){!function(t){m.map((function(e,c){if(e.id==t){var n=e;3==t?(e.quantity+1)%3?m.splice(c,1,Object(h.a)(Object(h.a)({},n),{},{quantity:n.quantity+1,summa:n.summa+n.cost})):m.splice(c,1,Object(h.a)(Object(h.a)({},n),{},{quantity:n.quantity+1,summa:n.summa+n.cost/2})):m.splice(c,1,Object(h.a)(Object(h.a)({},n),{},{quantity:n.quantity+1,summa:n.summa+n.cost}))}}))}(a),n(x(m))},children:"+"})]}),Object(O.jsx)("button",{className:"close",onClick:function(){!function(t){m.map((function(e,c){e.id==t&&m.splice(c,1)}))}(a),n(x(m))},children:Object(O.jsx)("img",{src:"https://www.svgrepo.com/show/349933/x.svg",alt:"close"})})]})})})})})}),E=(c(46),function(){var t=Object(u.c)((function(t){return t.cart}));return Object(O.jsx)(r.a,{children:Object(O.jsx)(j.a,{className:"d-flex  justify-content-center",children:Object(O.jsx)(o.a,{className:"col-12 col-md-6",children:Object(O.jsxs)("div",{className:"d-flex align-items-center justify-content-end cart__summa",children:[Object(O.jsx)("h4",{children:"\u0412\u0441\u0435\u0433\u043e \u043a \u043e\u043f\u043b\u0430\u0442\u0435:"}),Object(O.jsxs)("h4",{className:"text-danger ms-3",children:[function(t){var e=0;return t.forEach((function(t){e+=t.summa})),e}(t),"$"]})]})})})})}),C=(c(47),function(){var t=Object(u.c)((function(t){return t.cart})),e=t.length?t.map((function(t){return Object(O.jsx)(k,{item:t},Object(q.a)())})):Object(O.jsx)("h2",{children:"\u041d\u0443\u0436\u043d\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0442\u043e\u0432\u0430\u0440"}),c=t.length?Object(O.jsx)(E,{}):null;return Object(O.jsxs)("section",{className:"cart",children:[e,c]})}),D=c(3);c(48);var A=function(){return Object(O.jsx)(l.a,{children:Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)(d,{}),Object(O.jsxs)(D.c,{children:[Object(O.jsx)(D.a,{path:"/",exact:!0,element:Object(O.jsx)(_,{})}),Object(O.jsx)(D.a,{path:"/cart",exact:!0,element:Object(O.jsx)(C,{})})]})]})})},G=c(24),T={goods:[],loading:!0,cart:[]},R=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"GET_ALL_GOODS":return Object(h.a)(Object(h.a)({},t),{},{goods:e.payload,loading:!1});case"ERROR":return Object(h.a)(Object(h.a)({},t),{},{loading:"error"});case"ADD_CART_GOODS":return Object(h.a)(Object(h.a)({},t),{},{cart:e.payload});default:return t}},S=Object(G.a)(R);c(49),c(50);i.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(u.a,{store:S,children:Object(O.jsx)(A,{})})}),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.9fb35601.chunk.js.map